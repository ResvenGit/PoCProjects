# -*- coding: utf-8 -*-
"""
Application-level configuration constants shared across modules.
"""

DEFAULT_URL = "https://www.youtube.com/watch?v=********"
DEFAULT_SEGMENTS_JSON = """
[
  { "start": "00:04:06.720", "end": "00:04:43.039" },
  { "start": "00:05:22.880", "end": "00:06:09.830" },
  { "start": "00:16:48.000", "end": "00:17:43.750" },
  { "start": "00:22:56.240", "end": "00:23:47.110" },
  { "start": "00:45:01.480", "end": "00:45:12.950" },
  { "start": "00:46:01.440", "end": "00:46:46.359" },
  { "start": "00:54:37.720", "end": "00:55:31.950" }
]
""".strip()

INTRO_DEFAULT = "C:/MyClips/_Resource/_Intro_251122.mp4"
OUTRO_DEFAULT = "C:/MyClips/_Resource/_Outro_251014.mp4"
OUTPUT_DEFAULT = "C:/MyClips/Target_Clip.mp4"

# Refinement parameters
SILENCE_DB = -30
SILENCE_DUR = 0.18
START_WINDOW = (1.5, 2.5)
END_WINDOW = (2.5, 1.0)
MIN_LEN = 8.0

# Preview
TAIL_PREVIEW_SEC = 3.0
HEAD_PREVIEW_SEC = 3.0

# Encoding
L_CUT_SEC = 0.25
AFADE_OUT = 0.12
VIDEO_CODEC = "mpeg4"
VIDEO_Q = "3"

# Recommended next-end window
NEXT_END_EXTRA_WINDOW = (5.0, 25.0)

TOPIC_PROMPT = r"""***토픽추출프롬프트***
당신은 베테랑 유튜브PD이자 전문 편집자입니다.
입력으로 제공된 본 비디오의 다각적인 내용을 분석하여, **전체 길이가 3분에서 6분 사이**인 **독립적 주제**영상 기획안을 **최소 2개 이상** 작성해야 합니다.
분석 대상 영상 : {}



**[매우 중요]**
하나의 주제(Topic)가 본 비디오의 **여러 분산된 구간(Non-continuous segments)**에서 다뤄져도 괜찮습니다.
이 경우, 해당 주제와 관련된 **모든 관련 구간 조각**을 찾아 하나의 기획안으로 묶어주세요 (즉 'A' 주제가 1분과 7분에서 나온 경우 모두 포함)

**[작업 지시]**
주별로 **각각의 기획(기획안)**을 반드시 아래 4가지 요소로 포함해야 합니다.
1.  **topic**: 제안하는 영상의 핵심 주제 (한두 문장으로 간략하게 설명).
2.  **clip_segments**: 각 주제별로 이루는 **모든** 본 비디오 구간의 **목록(배열)**. 각각 요소는 'start' 와 'end' 키를 사용해야 합니다 (HH:MM:SS 형식)
3.  **titles**: 추천 제목 5개(배열).
4.  **thumbnail_prompts**: AI 썸네일 생성기용 프롬프트 3개(배열).

**[출력 규칙]**
- 제목과 썸네일 프롬프트는 **최대한** 한국어로 되어야 하며, **영어**도 사용하는 것을 허용합니다.
- 썸네일 프롬프트는 매우 시각적이고 구체적이어야 합니다.
- 결과는 반드시 **JSON 형식**이어야 하며, 모든 기획안은 `video_proposals`라는 이름의 **배열(List)** 안에 포함되어야 합니다.

**[JSON 출력 예시]**
{
  "video_proposals": [
    {
      "topic": "첫번째 영상 주제 (예 'A' 개념의 초보자 가이드)",
      "clip_segments": [
        { "start": "00:01:15", "end": "00:02:45" },
        { "start": "00:07:10", "end": "00:09:00" },
        { "start": "00:12:30", "end": "00:13:15" }
      ],
      "titles": [
        "추천 제목 1 (한글)",
        "추천 제목 2 (English/Korean Mix)",
        ...
      ],
      "thumbnail_prompts": [
        "시각적 썸네일 프롬프트 1 (예 'A' 개념을 특징으로 하는 하이브리드 포즈업, 색상대비감)",
        ...
      ]
    },
    {
      "topic": "두번째 영상 주제 (예 'B' 개념의 심층 분석)",
      "clip_segments": [
        { "start": "00:03:00", "end": "00:06:30" }
      ],
      "titles": [ ... ],
      "thumbnail_prompts": [ ... ]
    }
  ]
}
"""

VTT_ANALYSIS_PROMPT = r"""***VTT분석프롬프트***
당신은 VTT 트랜스크립트를 분석하여 영상 편집 지점을 추천하는 전문 요약 AI입니다.

제공된 VTT 트랜스크립트 파일을 {주제}를 기반으로, 해당 주제와 핵심 내용이 잘 드러나도록 하는 복수의 영상 구간을 추천해야 합니다. 아래 복수의 {주제}들에 각각의 결과를 작성하며 각 주제별 영상 구간은 최대한 겹치지 않도록 해야 합니다.



**{주제}:**

"AI 버추얼 캐릭터 뭘로 어떻게 제작할까?"


**조건과 규칙:**
1.  **주제 관련성:** 추천된 모든 구간이 문서 내 명시된 {주제}와 직접적으로 관련이 있어야 합니다.
2.  **개별 구간 길이:** 각 영상 구간(segment)의 길이는 **최대 1분을 초과하지 않습니다.**
3.  **개별 구간 규칙:** 각 영상 구간(segment)이 시작하거나 끝나는 위치는 **문장이 중간에 끊어지지 않도록 고려해야 합니다.** 처음 문장이 시작하기 전 또는 끝나고 나서 문장이 중간에 끊어지지 않는 것을 보장해야 합니다.
4.  **총 길이:** 모든 구간의 길이 합의 **최소 2분 이상, 최대 6분 이하**여야 합니다.
5.  **타임스탬프 형식:** VTT 파일에서 사용하는 `HH:MM:SS.mmm` (초 이하 밀리초) 형식을 정확히 준수해야 합니다.
6.  **출력 형식:** 응답은 반드시 아래와 같은 구조로 출력되어야 합니다.
    * **첫째 줄** 모든 추천 구간에서 얻을 수 있는 **핵심 내용 요약**.
    * **둘째 줄** 생성된 영상의 이름이나 성격에 대한 **간단한 제안**.
    * **셋째 줄** 생성된 영상의 **총 길이** (예 `총길이: 3분45초`).
    * **JSON 블록:** 요약, 제안, 총길이 문장 다음 줄에는 JSON 코드 블록으로 타임스탬프를 제공해야 합니다.

**출력 포맷 예시:**
AI 버추얼 캐릭터를 만들 수 있는 여러가지 방법(2D, 3D)을 소개하고, AI를 활용한 3D 모델 생성 과정에서 필요한 도구(Meshy AI, Unity, VCFace)를 설명하는 영상입니다.
핵심 도구와 제작 흐름을 반복 학습하기에 적합하며, 초보 단계가 정리되도록 구성됩니다.
총길이: 4분12초
```json
[
  { "start": "00:02:54.959", "end": "00:03:38.990" },
  { "start": "00:05:36.479", "end": "00:06:11.230" },
  { "start": "00:07:06.360", "end": "00:08:02.430" }
]
```
"""

THUMBNAIL_PROMPT = r"""***썸네일프롬프트**
** 유튜브 썸네일 이미지 생성 요청


** 내용 : 
{  }


** 스타일과 톤은 아래내용을반영 : 
미래지향적이며, 사이버틱 컨셉 아트 디자인, 캐릭터는 3D 일본 애니메이션 스타일이며, 맑고 깨끗한(clean rendering) 느낌과 셀셰이딩(cell-shading)을 하는 반실사(semi-realistic) 렌더링을 특징으로 하며 분위기는 어둡고 깊은 블루와 블랙을 기본으로 한 전체 화면이 빛나는 네온 블루와 일렉트릭 씨안(electric cyan) 포인트 컬러가 지배적이다. 배경은 홀로그램 UI 화면, 다채로운 라이트 스트립, 복잡하게 채워진 환경에 보케(bokeh) 효과가 있음. 모든 포인트 요소는 강한 '네온 광선' 또는 '발광(emissive)' 효과가 느껴져야 함


** 추가로 반영 필요 내용
글귀는 추가되어야 하면 한글로만 표기 
"""

